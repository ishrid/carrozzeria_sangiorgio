{# carrozzeria_sangiorgio_project/templates/vendita/veicoli_list.html #}
{% extends 'base.html' %}
{% load static %}
{% load humanize %}

{% block title %}Veicoli vendita - Carrozzeria San Giorgio{% endblock %}

{% block head %}
    {# Blocco corretto per meta tag e CSS #}
    <meta name="description" content="Scopri i veicoli usati e d'occasione selezionati e garantiti dalla Carrozzeria San Giorgio a Chiasso. Qualità e affidabilità a portata di mano.">
    <meta name="keywords" content="auto usate chiasso, veicoli occasione ticino, vendita auto, Carrozzeria San Giorgio, auto garantite">
    
    <link rel="stylesheet" media="screen" href="{% static 'vendor/nouislider/dist/nouislider.min.css'%}">
    <link rel="stylesheet" media="screen" href="{% static 'vendor/swiper/swiper-bundle.min.css'%}">
{% endblock %}


{% block content %}

    <section class="position-relative pt-md-2 pt-lg-3 pt-xl-3 pb-5 pb-lg-0">
        <div class="position-absolute top-0 start-0 w-100 bg-secondary d-none d-lg-block" style="height: 792px; margin: -1px 0 0 -1px; background-size: 75px 75px; background-image: linear-gradient(to right, var(--ar-gray-200) 1px, transparent 1px), linear-gradient(to bottom, var(--ar-gray-200) 1px, transparent 1px);"></div>
        <div class="position-absolute top-0 start-0 w-100 h-100 bg-secondary d-lg-none" style="margin: -1px 0 0 -1px; background-size: 75px 75px; background-image: linear-gradient(to right, var(--ar-gray-200) 1px, transparent 1px), linear-gradient(to bottom, var(--ar-gray-200) 1px, transparent 1px);"></div>
        <div class="container position-relative z-2 pt-5 pb-2 pb-sm-3 pb-lg-0">
            <div class=" py-5 mt-3 mt-sm-4 mb-md-3 mb-lg-4 mb-xl-5">
                <nav aria-label="breadcrumb">
                    <ol class="pt-lg-3 pb-lg-4 pb-2 breadcrumb">
                        <li class="breadcrumb-item">
                            <a href="/">Home</a>
                        </li>
                        <li class="breadcrumb-item active" aria-current="page">Vendita veicoli</li>
                    </ol>
                </nav>
                <h1 class="display-3 pb-1 pb-sm-2 pb-md-3 text-md-center">Auto selezionate sicure e affidabili</h1>
                <p class="fs-lg mb-0 text-md-center"> 
                    Nella nostra selezione trovi veicoli d’occasione controllati con la stessa cura che riserviamo alle auto dei nostri clienti. Ogni vettura viene verificata in officina, sottoposta a controlli accurati di carrozzeria e meccanica, e consegnata dopo test completi per un acquisto sicuro.
                </p>
            </div>
             
        </div>
     
 
    <div class="container pb-5">
     
        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4  ">
            {% for veicolo in veicoli %}
            <div class="col" data-aos="fade-up" data-aos-duration="600" data-aos-delay="{{ forloop.counter0|stringformat:"%s00" }}">
                <div class="card h-100 shadow-sm border-0 position-relative">
                    
                    {% if veicolo.status != 'disponibile' %}
                        <span class="badge bg-dark position-absolute top-0 end-0 m-2 fs-sm" style="z-index: 2;">{{ veicolo.get_status_display }}</span>
                    {% endif %}

                    <img src="{{ veicolo.foto_principale.url }}" class="card-img-top object-fit-cover {% if veicolo.status == 'venduto' %}opacity-50{% endif %}" alt="{{ veicolo.marca }} {{ veicolo.modello }}" style="height: 220px;">
                    
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title mb-2">{{ veicolo.marca }} {{ veicolo.modello }}</h5>
                        <p class="card-text text-primary fs-4 fw-bold mb-2">CHF {{ veicolo.prezzo|intcomma }}.-</p>
                        <div class="row mb-2">
                            <div class="col-6">
 <ul class="list-unstyled mb-3 fs-sm text-muted">
                            <li class="mb-2">  <svg xmlns="http://www.w3.org/2000/svg"
     width="24" height="24"
     viewBox="0 0 24 24"
     fill="none"
     stroke="currentColor"
     stroke-width="2"
     stroke-linecap="round"
     stroke-linejoin="round">
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
  <line x1="3" y1="10" x2="21" y2="10"></line>
  <line x1="8" y1="2" x2="8" y2="6"></line>
  <line x1="16" y1="2" x2="16" y2="6"></line>
</svg>
  {{ veicolo.anno }}</li>
                            <li><svg xmlns="http://www.w3.org/2000/svg"
     width="24" height="24"
     viewBox="0 0 24 24"
     fill="none"
     stroke="currentColor"
     stroke-width="2"
     stroke-linecap="round"
     stroke-linejoin="round">
  <path d="M6 22L10 2"></path>
  <path d="M18 22L14 2"></path>
  <line x1="12" y1="6" x2="12" y2="10"></line>
  <line x1="12" y1="14" x2="12" y2="18"></line>
</svg>
 {{ veicolo.chilometraggio }} Km</li>
                             
                        </ul>
                            </div>
                            <div class="col-6">
                                 <ul class="list-unstyled mb-3 fs-sm text-muted">
                           
                            <li class="mb-2"><svg xmlns="http://www.w3.org/2000/svg"
     width="24" height="24"
     viewBox="0 0 24 24"
     fill="none"
     stroke="currentColor"
     stroke-width="2"
     stroke-linecap="round"
     stroke-linejoin="round">
  <rect x="3" y="3" width="12" height="18" rx="2" ry="2"></rect>
  <path d="M15 7h2a2 2 0 0 1 2 2v7a3 3 0 0 0 3 3"></path>
  <polyline points="10 9 7 14 12 14 9 19"></polyline>
</svg>

 {{ veicolo.get_tipo_carburante_display }}</li>
                            <li>  <svg xmlns="http://www.w3.org/2000/svg"
     width="24" height="24"
     viewBox="0 0 24 24"
     fill="none"
     stroke="currentColor"
     stroke-width="2"
     stroke-linecap="round"
     stroke-linejoin="round">
  <line x1="8" y1="5" x2="8" y2="19"></line>
  <line x1="16" y1="5" x2="16" y2="19"></line>
  <line x1="8" y1="12" x2="16" y2="12"></line>
  <circle cx="8" cy="5" r="1"></circle>
  <circle cx="8" cy="12" r="1"></circle>
  <circle cx="8" cy="19" r="1"></circle>
  <circle cx="16" cy="5" r="1"></circle>
  <circle cx="16" cy="12" r="1"></circle>
  <circle cx="16" cy="19" r="1"></circle>
</svg>
 {{ veicolo.get_tipo_cambio_display }}</li>
                        </ul>
                            </div>
                        </div>
                       
                         <div class="row align-items-center">
                            
                            {% if veicolo.is_quality %}
                            <div class="col-9">
                                
<a href="{% url 'vendita:dettaglio_veicolo' slug=veicolo.slug %}" class="btn btn-outline-primary mt-auto  w-100">Vedi dettagli</a>
                    
                            </div>
                            <div class="col-3">
                                <img src="{% static 'img/quality.svg' %}" alt=""  class="img-fluid">
                            </div>
                            {% else %}
<div class="col-12">
                                
<a href="{% url 'vendita:dettaglio_veicolo' slug=veicolo.slug %}" class="btn btn-outline-primary mt-auto  w-100">Vedi dettagli</a>
                    
                            </div>
                            {% endif %}
                            
 
                         </div>
                        
                    </div>
                </div>
            </div>
            {% empty %}
            <div class="col-12 text-center py-5">
                <p>Nessun veicolo attualmente disponibile per la vendita.</p>
                <p class="text-muted">Torna a trovarci presto per scoprire le nuove occasioni.</p>
            </div>
            {% endfor %}
        </div>
</div>
 
    </section>

{% endblock %}


{% block extra_js %}
    <script src="{% static 'vendor/jarallax/dist/jarallax.min.js' %}"></script>
    <script src="{% static 'vendor/nouislider/dist/nouislider.min.js' %}"></script>
    <script src="{% static 'vendor/swiper/swiper-bundle.min.js' %}"></script>
{% endblock %}